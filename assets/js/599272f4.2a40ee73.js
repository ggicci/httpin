"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[68],{3152:function(t,e,n){n.d(e,{Z:function(){return h}});var r=n(4035),i=n(1720),a=n.n(i),o=n(9812),s=n(5670),u=n(7294),p="toolbar_uIxz",c="button_yMrS",l="hidden_X41c",d="https://goplay.ggicci.me",m=function(t){var e=t.children,n=t.onClick;return u.createElement("button",{className:c,onClick:n},e)},h=function(t){var e=t.children,n=u.useRef(null),i=u.useRef(null),c=e&&e.props&&"pre"===e.props.mdxType&&e,h=c&&c.props&&c.props.children;if(!h||"code"!==h.props.mdxType)return u.createElement("div",null,"GoPlay: the wrapped data is not a codeblock.");if(!/\blanguage-go\b/.test(h&&h.props.className))return u.createElement("div",null,"GoPlay: only go code supported.");function g(){return(g=(0,r.Z)(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new o.h(d),t.next=3,e.share(h.props.children.trim());case 3:n=t.sent,window.open(n,"_blank");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return u.createElement(u.Fragment,null,e,u.createElement("div",{ref:n,className:l},u.createElement(s.Z,{language:"text"},u.createElement("div",{ref:i}))),u.createElement("div",{className:p},u.createElement(m,{onClick:function(){if(i.current){var t=new o.h(d);n.current.classList.remove(l),t.renderCompile(i.current,h.props.children.trim())}}},"Run"),u.createElement(m,{onClick:function(){return g.apply(this,arguments)}},"Try it yourself \u21e2")))}},1547:function(t,e,n){n.r(e),n.d(e,{assets:function(){return l},contentTitle:function(){return p},default:function(){return h},frontMatter:function(){return u},metadata:function(){return c},toc:function(){return d}});var r=n(3117),i=n(102),a=(n(7294),n(3905)),o=n(3152),s=["components"],u={sidebar_position:0},p="net/http",c={unversionedId:"integrations/http",id:"integrations/http",title:"net/http",description:"Package net/http",source:"@site/docs/integrations/http.mdx",sourceDirName:"integrations",slug:"/integrations/http",permalink:"/httpin/integrations/http",draft:!1,editUrl:"https://github.com/ggicci/httpin/edit/documentation/docs/docs/integrations/http.mdx",tags:[],version:"current",sidebarPosition:0,frontMatter:{sidebar_position:0},sidebar:"docsSidebar",previous:{title:"custom \ud83d\udd0c",permalink:"/httpin/directives/custom"},next:{title:"go-chi/chi",permalink:"/httpin/integrations/gochi"}},l={},d=[{value:"Integrations",id:"integrations",level:2},{value:"Run Demo",id:"run-demo",level:2}],m={toc:d};function h(t){var e=t.components,n=(0,i.Z)(t,s);return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"nethttp"},"net/http"),(0,a.kt)("p",null,"Package ",(0,a.kt)("a",{parentName:"p",href:"https://pkg.go.dev/net/http#Handler"},"net/http")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"provides HTTP client and server implementations.")),(0,a.kt)("h2",{id:"integrations"},"Integrations"),(0,a.kt)("p",null,"Chain httpin's Middlware to your ",(0,a.kt)("inlineCode",{parentName:"p"},"http.Handler"),"s. We recommend using ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/justinas/alice"},"justinas/alice")," to chain your middlewares."),(0,a.kt)("h2",{id:"run-demo"},"Run Demo"),(0,a.kt)(o.Z,{mdxType:"GoPlay"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go",metastring:"{20,27}","{20,27}":!0},'package main\n\nimport (\n    "fmt"\n    "net/http"\n    "net/http/httptest"\n\n    "github.com/ggicci/httpin"\n    "github.com/justinas/alice"\n)\n\ntype ListUsersInput struct {\n    Gender   string `in:"query=gender"`\n    AgeRange []int  `in:"query=age_range"`\n    IsMember bool   `in:"query=is_member"`\n}\n\nfunc ListUsers(rw http.ResponseWriter, r *http.Request) {\n    // Retrieve you data in one line of code!\n    input := r.Context().Value(httpin.Input).(*ListUsersInput)\n\n    fmt.Printf("input: %#v\\n", input)\n}\n\nfunc init() {\n    // Bind input struct with handler.\n    http.Handle("/users", alice.New(\n        httpin.NewInput(ListUsersInput{}),\n    ).ThenFunc(ListUsers))\n}\n\nfunc main() {\n    r, _ := http.NewRequest("GET", "/users?gender=male&age_range=18&age_range=24&is_member=1", nil)\n\n    rw := httptest.NewRecorder()\n    http.DefaultServeMux.ServeHTTP(rw, r)\n}\n'))))}h.isMDXComponent=!0}}]);
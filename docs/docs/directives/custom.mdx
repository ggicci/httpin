---
sidebar_position: 100
---

# Custom ðŸ”Œ

You can extend **httpin** by adding your custom directives.

Firstly you should understand the concepts of [**Directive**](/advanced/concepts#directive) and [**Directive Executor**](/advanced/concepts#directive-executor).

To add your custom directive, you need to:

## 1. Create a Directive Executor

by implementing the [`httpin.DirectiveExecutor`](https://pkg.go.dev/github.com/ggicci/httpin#DirectiveExecutor) interface:

```go {13}
func toLower(rtm *DirectiveRuntime) error {
	if rtm.Value.Type().Elem().Kind() != reflect.String {
		return errors.New("not a string")
	}

	currentValue := rtm.Value.Elem().String()
	newValue := strings.ToLower(currentValue)
	rtm.Value.Elem().SetString(newValue)
	return nil
}

// Adapt to the httpin.DirectiveExecutor interface.
var MyLowercaseDirectiveExecutor = httpin.DirectiveExecutorFunc(toLower)
```

## 2. Register your Directive to httpin

by calling [`httpin.RegisterDirectiveExecutor`](https://pkg.go.dev/github.com/ggicci/httpin#RegisterDirectiveExecutor):

```go {2}
func init() {
	httpin.RegisterDirectiveExecutor("to_lowercase", MyLowercaseDirectiveExecutor)
}
```

**NB**: make sure to register your directive executor before you start the server.

## 3. Use your Directive

```go {2}
type LoginFormInput struct {
	Login string `in:"form=login;required;to_lowercase"`
	Pass  string `in:"form=login;required"`
}
```

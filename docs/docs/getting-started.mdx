---
sidebar_position: 0
slug: /
---

import GoPlay from "../src/components/GoPlay"

# Getting Started

httpin is a **Go** package for **decoding HTTP requests into structs**. We can decode

- [Query parameters](/directives/query), e.g. `?name=john&is_member=true`
- [Headers](/directives/header), e.g. `Authorization: xxx`
- [Form data](/directives/form), e.g. `username=john&password=******`
- [JSON/XML Body](/directives/body), e.g. `POST {"name":"john"}`
- [Path variables](/directives/path), e.g. `/users/{username}`
- [File uploads](/advanced/upload-files)
- [Patch fields](/advanced/patch), i.e. tell a field from missing to empty

and [more](/directives/custom) of an HTTP request into a struct in Go.

## Install

```shell
go get github.com/ggicci/httpin
```

## Thanks ğŸ¥°

If you thought this package helpful, please consider [giving it a big star â­ï¸](https://github.com/ggicci/httpin/stargazers). Thanks in advance!

## Quick View

```go
// Well define your data.
type ListUsersInput struct {
	Page     int  `in:"query=page"`
	PerPage  int  `in:"query=per_page"`
	IsMember bool `in:"query=is_member"`
}

func ListUsers(rw http.ResponseWriter, r *http.Request) {
	// Retrieve your data in one line of code!
	input := r.Context().Value(httpin.Input).(*ListUsersInput)

	// Do sth.
}
```

## Run Demo

Take a look at the **integrations** section in the left sidebar. You may also find useful runnable demos there.

<GoPlay>

```go
package main

import (
	"fmt"
	"net/http"
	"net/http/httptest"

	"github.com/ggicci/httpin"
	"github.com/go-chi/chi/v5"
)

type ListUsersInput struct {
	Token    string `in:"header=Authorization"`
	IsMember bool   `in:"query=is_member"`
	AgeRange []int  `in:"query=age_range[],age_range"`
}

func ListUsers(rw http.ResponseWriter, r *http.Request) {
	input := r.Context().Value(httpin.Input).(*ListUsersInput)
	fmt.Printf("input: %#v\n", input)
}

func main() {
	router := chi.NewRouter()
	router.With(
		httpin.NewInput(ListUsersInput{}),
	).Get("/users", ListUsers)

	r, _ := http.NewRequest("GET", "/users?is_member=1&age_range=18&age_range=60", nil)
	r.Header.Set("Authorization", "my-secret-here")

	rw := httptest.NewRecorder()
	router.ServeHTTP(rw, r)
}
```

</GoPlay>

## Comparison

| Items                | Before (use net/http package)              | After (use ggicci/httpin package)                                                              |
| -------------------- | ------------------------------------------ | ---------------------------------------------------------------------------------------------- |
| Developer Time       | ğŸ˜« Expensive (too much parsing stuff code) | ğŸš€ **Faster** (define the struct for receiving input data and leave the parsing job to httpin) |
| Code Repetition Rate | ğŸ˜ High                                    | **Lower**                                                                                      |
| Code Readability     | ğŸ˜Ÿ Poor                                    | **Highly readable**                                                                            |
| Maintainability      | ğŸ˜¡ Poor                                    | ğŸ˜ **Highly maintainable**                                                                     |
